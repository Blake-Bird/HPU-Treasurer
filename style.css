/* ==============================================================
   0 – Global variables & resets
   ============================================================== */
:root {
    /* Primary palette */
    --color-primary-purple: #6D28D9;
    --color-accent-orchid: #A78BFA;
    --color-soft-gold: #FDE68A;
    --color-ink: #0B021F;
    --color-midnight: #12042C;
    --color-frost-white: #F7F7FB;

    /* Glass & borders */
    --glass-bg: rgba(255, 255, 255, .12);
    --glass-stroke: rgba(255, 255, 255, .16);

    /* Typography */
    --font-display: 'Playfair Display', serif;
    --font-sans: 'Inter', sans-serif;
    --font-mono: 'JetBrains Mono', monospace;

    /* Layout */
    --max-container-width: 1180px;
    --grid-gutter: 24px;
}

/* Reset + base */
*, *::before, *::after { box-sizing: border-box; }
html { scroll-behavior: smooth; font-size: 16px; }
body {
    margin: 0;
    font-family: var(--font-sans);
    color: var(--color-frost-white);
    background: linear-gradient(135deg, #12042C, #6D28D9);
    min-height: 100vh;
}
img { max-width: 100%; display: block; }
a { text-decoration: none; color: inherit; cursor: pointer; }

/* ==============================================================
   1 – Utility classes
   ============================================================== */
.container {
    width: 90%;
    max-width: var(--max-container-width);
    margin-left: auto;
    margin-right: auto;
}
.flex-between { display: flex; justify-content: space-between; align-items: center; }
.flex-center { display: flex; justify-content: center; align-items: center; }

.grid-3col {
    display: grid;
    grid-template-columns: repeat(12, 1fr);
}
.gap-24 { gap: var(--grid-gutter); }

/* ==============================================================
   2 – Top bar (sticky)
   ============================================================== */
.top-bar {
    position: fixed;
    top: -60px; /* hidden by default */
    left: 0;
    right: 0;
    height: 56px;
    background: rgba(18,4,44,.95);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid var(--glass-stroke);
    transition: top .22s ease-out, box-shadow .22s ease-out;
    z-index: 1000;
}
.top-bar.visible { top: 0; }
.top-bar.hidden { top: -60px; }
.top-bar .badge {
    font-size: .9rem;
    color: var(--color-soft-gold);
}

/* ==============================================================
   3 – Buttons
   ============================================================== */
.btn {
    display: inline-block;
    padding: .6rem 1.2rem;
    border-radius: .5rem;
    font-weight: 600;
    transition: transform .12s, box-shadow .12s;
}
.btn-primary {
    background: var(--color-primary-purple);
    color: var(--color-frost-white);
}
.btn-secondary {
    background: var(--color-accent-orchid);
    color: var(--color-ink);
}
.btn-outline {
    background: transparent;
    border: 1px solid var(--glass-stroke);
    color: var(--color-soft-gold);
}
.btn:hover { transform: translateY(-2px); box-shadow: 0 6px 12px rgba(0,0,0,.3); }
.btn-fullwidth { width: 100%; text-align: center; }

/* ==============================================================
   4 – Hero section
   ============================================================== */
.hero-section {
    position: relative;
    padding: 8rem 0 6rem;
    overflow: hidden;
}
.hero-section::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 30% 30%, #A78BFA, #12042C);
    opacity: .85;
    z-index: -2;
}

/* Star‑grain noise (tiny PNG base64) */
.hero-section::after {
    content:"";
    position:absolute; inset:0;
    background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR4nGMAAQAABQABDQottQAAAABJRU5ErkJggg==");
    opacity:.04;
    z-index:-1;
}
.hero-content {
    max-width: 720px;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    color: var(--color-frost-white);
}
.display-1 {
    font-family: var(--font-display);
    font-size: clamp(2.5rem,6vw,4.5rem);
    line-height: 1.1;
    letter-spacing: -0.015em; /* slight negative for premium feel */
    margin-bottom: .8rem;
    opacity:0; transform: translateY(20px);
}
.lead {
    font-size: clamp(1.125rem,2vw,1.5rem);
    line-height: 1.4;
    margin-bottom: 1.6rem;
    opacity:0; transform: translateY(20px);
}

/* Chip group */
.chip-group { display:flex; gap:.8rem; justify-content:center; flex-wrap:wrap; }
.chip {
    background: var(--color-accent-orchid);
    color: var(--color-ink);
    padding:.3rem .6rem;
    border-radius: 9999px;
    font-size:.85rem;
    opacity:0; transform: translateY(20px);
}
.cta-group { margin-top:2rem; display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; }
.cta-group .btn { opacity:0; transform: translateY(20px); }

/* 3‑D orbit */
.orbit-wrapper {
    position:absolute;
    top:50%; right:-10%;
    width:400px; height:400px;
    transform-style: preserve-3d;
    perspective:1200px;
}
#portraitOrbit {
    position:relative;
    width:100%; height:100%;
    animation: orbitRotate 18s linear infinite;
}
.portrait {
    --i:0; /* index set inline */
    position:absolute;
    top:50%; left:50%;
    width:200px; height:260px;
    margin:-130px -100px; /* half of size to center */
    transform-origin:center center -150px;
    transform:
        rotateY(calc(var(--i) * 120deg))
        translateZ(150px);
    border-radius:.75rem;
    overflow:hidden;
    box-shadow:0 8px 20px rgba(0,0,0,.3);
    transition: transform .4s ease-out, box-shadow .4s ease-out;
}
.portrait img { width:100%; height:100%; object-fit:cover; }
.portrait:hover {
    animation-play-state:paused;
    transform:
        rotateY(calc(var(--i) * 120deg))
        translateZ(150px)
        scale(1.08)
        translateY(-8px);
    box-shadow:0 12px 30px rgba(0,0,0,.45), inset 0 0 0 2px var(--glass-stroke);
}

/* ==============================================================
   5 – Plan cards
   ============================================================== */
.plan-section { padding:4rem 0; text-align:center; }
.section-title {
    font-family: var(--font-display);
    font-size: clamp(1.75rem,3vw,2.5rem);
    margin-bottom:2rem;
    color: var(--color-soft-gold);
}
.plan-card {
    padding:1.6rem;
    border-radius:.8rem;
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-stroke);
    box-shadow:0 10px 30px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.12);
    transform: translateY(40px) rotateX(8deg);
    opacity:0;
}
.plan-card h3 {
    font-family: var(--font-display);
    color: var(--color-primary-purple);
    margin-bottom:.6rem;
}

/* ==============================================================
   6 – Chart section
   ============================================================== */
.chart-section { padding:4rem 0; text-align:center; }
#budgetChart {
    max-width:100%;
    height:auto;
}

/* ==============================================================
   7 – About Blake
   ============================================================== */
.about-section { padding:4rem 0; color:#eaeaea; }
.checklist {
    list-style:none;
    padding-left:0;
    margin-top:1.2rem;
}
.checklist li::before {
    content:"✔";
    margin-right:.6rem;
    color: var(--color-soft-gold);
}

/* ==============================================================
   8 – Documents tiles
   ============================================================== */
.docs-section { padding:4rem 0; }
.doc-tile h4 { margin-bottom:.4rem; color:var(--color-primary-purple); }
.tldr {
    font-size:.85rem;
    margin-bottom:.8rem;
    opacity:.88;
}

/* ==============================================================
   9 – Idea intake form
   ============================================================== */
.idea-section { padding:4rem 0; text-align:center; }
.idea-form {
    max-width:560px;
    margin:auto;
    padding:2rem;
    border-radius:1rem;
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border:1px solid var(--glass-stroke);
    box-shadow:0 10px 30px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.12);
}
.field-group {
    margin-bottom:1rem;
    text-align:left;
}
.field-group label { display:block; margin-bottom:.3rem; font-weight:600; }
.field-group input,
.field-group textarea {
    width:100%;
    padding:.6rem .8rem;
    border-radius:.4rem;
    border:none;
    background:rgba(255,255,255,.08);
    color:#fff;
    font-family:var(--font-sans);
}
.field-group input::placeholder,
.field-group textarea::placeholder {
    color:#bbb;
}
.success-msg { margin-top:1rem; color:#4ade80; font-weight:600; }

.social-proof {
    margin-top:2rem;
    display:flex;
    align-items:center;
    gap:.6rem;
    justify-content:center;
}
.avatar {
    width:32px; height:32px; border-radius:50%; border:1px solid var(--glass-stroke);
}

/* ==============================================================
   10 – Latin motto animation
   ============================================================== */
.motto-section { padding:4rem 0; text-align:center; position:relative; }
.latin-motto-svg {
    width:100%;
    max-width:600px;
    margin:auto;
}
#mottoPath {
    stroke-dasharray: 800;
    stroke-dashoffset: 800;
    animation: drawMotto 2.2s ease forwards, glowMotto .8s ease-in-out infinite alternate;
    animation-delay: .5s;
}
@keyframes drawMotto {
    to { stroke-dashoffset:0; }
}
@keyframes glowMotto {
    from { filter: drop-shadow(0 0 4px var(--color-soft-gold)); }
    to   { filter: none; }
}
.motto-text h3 {
    font-family: var(--font-display);
    font-size:1.8rem;
    margin-top:.6rem;
    color:var(--color-primary-purple);
}
.translation {
    font-style:italic;
    opacity:.78;
}

/* ==============================================================
   11 – Final CTA
   ============================================================== */
.final-cta-section { padding:4rem 0; text-align:center; }
.site-footer p { margin-top:2rem; font-size:.85rem; opacity:.6; }

/* ==============================================================
   12 – Modals (PDF viewer & lightbox)
   ============================================================== */
.modal {
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.7);
    display:flex;
    align-items:center;
    justify-content:center;
    opacity:0;
    pointer-events:none;
    transition:opacity .2s ease-out;
}
.modal.visible { opacity:1; pointer-events:auto; }
.modal-content {
    position:relative;
    max-width:90vw;
    max-height:85vh;
    background: var(--glass-bg);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-stroke);
    padding:1.2rem;
    border-radius:.8rem;
}
.modal-close {
    position:absolute;
    top:.5rem; right:.5rem;
    font-size:1.4rem;
    background:none;
    border:none;
    color:#fff;
    cursor:pointer;
}

/* PDF iframe */
#pdfIframe { width:100%; height:70vh; border:none; }

/* Lightbox image */
.lightbox-content img {
    max-width:100%;
    max-height:70vh;
    display:block;
    margin:auto;
}
.lightbox-content p { text-align:center; margin-top:.8rem; font-size:.9rem; }

/* ==============================================================
   13 – Global animations (GSAP will add .in-view)
   ============================================================== */
.in-view {
    opacity:1 !important;
    transform:none !important;
}

/* ==============================================================
   14 – Reduced‑motion media query
   ============================================================== */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after { animation-duration: .001ms !important; transition-duration: .001ms !important; }
    #portraitOrbit { animation:none; }
}

/* ==============================================================
   15 – Responsive breakpoints
   ============================================================== */
@media (max-width:1024px) {
    .grid-3col { grid-template-columns: repeat(6,1fr); }
}
@media (max-width:640px) {
    .grid-3col { grid-template-columns: repeat(2,1fr); }
    .hero-section { padding-top:6rem; padding-bottom:4rem; }
    .orbit-wrapper { display:none; } /* hide orbit on tiny screens */
}

/* ==============================================================
   16 – Helper keyframes
   ============================================================== */
@keyframes orbitRotate {
    from { transform:rotateY(0deg); }
    to   { transform:rotateY(360deg); }
}
